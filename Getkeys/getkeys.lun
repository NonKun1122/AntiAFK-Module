-- Loader.lua
local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")

-- ‡∏Å‡∏≥‡∏´‡∏ô‡∏î Key ‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Å‡∏£‡∏≠‡∏Å
local KEY = "‡πÉ‡∏™‡πà-Key-‡∏ó‡∏µ‡πà‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏Å‡∏£‡∏≠‡∏Å"

-- URL API ‡∏Ç‡∏≠‡∏á Netlify (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô URL ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏´‡∏•‡∏±‡∏á Deploy)
local API_URL = "https://yourproject.netlify.app/.netlify/functions/verifykey"

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Key ‡∏Å‡∏±‡∏ö API
local function checkKey(key)
    local success, response = pcall(function()
        return HttpService:GetAsync(API_URL .. "?key=" .. key)
    end)

    if not success then
        return false, "‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠ API ‡πÑ‡∏î‡πâ"
    end

    local ok, data = pcall(function()
        return HttpService:JSONDecode(response)
    end)

    if not ok then
        return false, "API ‡∏ï‡∏≠‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á"
    end

    if data.valid then
        return true, data
    else
        return false, data.reason or "Key ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á"
    end
end

-- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Key
local ok, result = checkKey(KEY)
if not ok then
    warn("‚ùå Key Invalid: " .. tostring(result))
    Players.LocalPlayer:Kick("Key Invalid / Expired ‚ùå")
    return
end

print("‚úÖ Key ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ! ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó:", result.type, "‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏:", os.date("%c", result.expire/1000))

-- ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö PlaceId (‡πÅ‡∏°‡∏û) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏Å‡∏°
local placeId = game.PlaceId
print("üåê PlaceId:", placeId)

local scripts = {
    [1234567890] = "Games/GrowGarden.lua", -- Grow a Garden
    [2233445566] = "Games/GardenTow.lua",  -- Garden Tow
    [3344556677] = "Games/HuntZombie.lua", -- Hunt Zombie
}

local targetScript = scripts[placeId]
if targetScript then
    -- ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡πÅ‡∏°‡∏û (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå .lua ‡πÉ‡∏ô Roblox Studio ‡∏´‡∏£‡∏∑‡∏≠‡∏ú‡πà‡∏≤‡∏ô ModuleScript)
    local func, err = loadfile(targetScript)
    if func then
        func()
    else
        warn("‚ö†Ô∏è ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: " .. tostring(err))
    end
else
    warn("‚ö†Ô∏è ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡∏°‡∏ô‡∏µ‡πâ")
end
